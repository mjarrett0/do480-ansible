apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - roster-deployment.yaml
  - roster-service.yaml
  - roster-route.yaml

configMapGenerator:
  - name: roster
    literals:
      - DATABASE_SERVICE_NAME=mysql
      - MYSQL_USER=testu
      - MYSQL_DATABASE=testdb
      - INIT_DB=true
    behavior: create

secretGenerator:
  - name: roster
    literals:
      - MYSQL_PASSWORD=testp
    type: Opaque
    behavior: create

# Critical: disable hash suffix â†’ matches GE behavior
generatorOptions:
  disableNameSuffixHash: true